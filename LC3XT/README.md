# LC3XT 使用指南

## 什么是 LC3XT？

LC3XT 是本学期助教搭建的 **LC-3 实验评测系统**，你可以在系统中提交 LC-3 代码，系统会汇编你的程序，并用一系列的**测试数据**对你的程序进行验证，以确定你的程序是否满足实验的要求。

LC3XT 可以通过此地址访问：<https://lc3xt.skjsjhb.moe>

## LC3XT 和 LC3Tools 的区别？

LC3Tools：

- 在你的机器上运行。

- 能对程序进行调试，并且可以实时查看各寄存器和内存的状态。

- 需要手动填写测试数据，运行程序，再手动检验结果。

LC3XT：

- 在我们的服务器上运行。

- 能进行全自动的数据输入、读出和验证。

在进行实验时，建议你先用 LC3Tools 编写程序，并在 LC3Tools 中填写样例数据，对你的程序进行**本地测试**。如果 LC3Tools 中的结果看上去是对的，而且你觉得你的程序已经准备好接受挑战了，那么就可以将它提交到 LC3XT，接受更为广泛的全自动测试。通过 LC3XT 的验证，方可认为是通过了本次实验。

## 我必须使用 LC3XT 吗？

尽管我们非常建议你使用 LC3XT（因为确实能减少不少工作），但这并不是必须的。你可以完全不使用 LC3XT，仅仅在 LC3Tools 中验证你的程序，并提交实验。但是，这样会有两个问题：

- 你的工作量会增加很多，特别是手动填入数据、复位机器和修改代码。

- 即使程序能够正确处理样例数据，也有可能存在你没有考虑到的情况。因此，**很难有充分把握**认为你的程序在所有情况下都能正确工作。

助教会使用 LC3XT 对所有提交的代码进行评测，因此如果你的代码通过了 LC3XT 的检验，那么你可以确信你的程序（至少在功能上）是**几乎必然**正确的，这能给你的信心带来极大幅的提升。

## 评测结果的含义？

LC3XT 在给定的模拟环境中运行你提交的代码，它会根据程序的行为，给出如下的几个评测结果：

- 汇编错误：程序无法汇编，系统因此不会执行任何测试点。

- AC / 通过：对于这个测试点提供的数据，你的程序行为完全正确。

- WA / 答案错误：对于这个测试点提供的数据，你的程序输出和预期的不一致。

- RE / 运行错误：你的程序在这个环境中无法顺利执行完成，测试点会给出更详细的错误消息。

- TLE / 运行超时：你的程序已经执行了远远超出合理范围的指令数，程序可能存在死循环，或者算法还有优化空间。

- IEE / 输入耗尽：你的程序读取了超出需要的输入，系统无法提供。

也许有些测试点能够 AC，而有些会出错。**只有当某次提交的所有测试点都得到 AC 时，这次提交才会被判定为通过**。

即使评测结果不是 AC 也不要沮丧，测试点会给出详细的输入输出，以及测试点提供的消息。尝试在 LC3Tools 中使用提供的数据，看看你的程序到底在哪一步出了问题。

## 我确信我的程序是对的，但评测还是不过！

首先请检查你的汇编代码是否合乎语法，在 LC3Tools 中能通过的汇编**不一定**能在 LC3XT 中通过（尽管大多数时候都可以）。

然后请检查 LC3XT 的输出，如果你的程序可以输出正确的结果，但是出现了运行错误，那么这种行为是不会被接受的。请根据测试点的输出消息，修正可能的错误。

如果你确定排除了所有的错误，但评测还是没有通过，那么**数据（或者 LC3XT 工具链）可能真的有问题**，你可以来询问助教。但如果已经有不止一个人通过了测试，那么这种事情发生的可能性还是不大的。

## 我访问不了 LC3XT！

为防止攻击，LC3XT 采用了 Cloudflare 的 CDN 进行防护，因此有些情况下的网络可能打开较慢或无法访问。

据我们所知，妮可的校园网（教育网出口）是可以访问 LC3XT 的，请尝试使用这个网络。如果还是不行，你可以试试找一位能访问 LC3XT 的同学，并友好地借用一下网络。

## LC3XT 为什么会收集我的浏览器指纹？

LC3XT 内置有代码查重系统，为了不让你的代码和自己先前的提交产生冲突，我们会为你的设备生成唯一的指纹，用以标记你的浏览器和你的提交。

除了用于排除你自己的提交外，我们不会将该指纹用于任何目的，而且没有人可以通过该指纹推出有关你浏览器的任何信息。

这些指纹数据会在本学期的课程结束后从我们的服务器上彻底删除。

我们不会强制收集这一信息，如果你仍然担心有关个人隐私的问题，可以换用一个你平时不用的浏览器，使用一个虚拟机，或者借一台电脑。

## 使用规则

LC3XT 面向所有 2024 年修读苗付友老师教授的《计算系统概论 A》（CS1002A.02）的同学开放使用。尽管如此，为了保障大多数同学能够正常使用系统而不遇到不必要的麻烦，我们还是对各位用户提出一点小小的要求：

- **不要滥用评测资源**。反复提交同一段未通过的代码并不会让它变成通过，反而会浪费服务器的计算资源和带宽。请先在本地完成程序的修正和调试后，再通过 LC3XT 提交代码。

- **不要攻击服务器**。借助强大的 CDN 防护，大多数程度的 DDoS 攻击并不会对服务器造成任何实质性的损害，但攻击者肯定会吃苦头。

- **不要用其他人的信息提交代码**。有些实验会用到你的学号信息或姓名生成数据。你可以使用自己的真实学号，也可以（出于测试目的）使用诸如 `PB12345678` 这样的样例学号，但不要故意使用其他人的信息来提交。
  
  ?> 使用样例数据仅限于测试目的，正式提交时请务必使用自己的信息。

## 接下来呢？

如果你打算使用 LC3XT 来完成本学期的实验，你可以先试试我们设计的 [试用评测](/LC3XT/Hello)，你并不需要编写代码，只需要用我们提供的代码通过测试，熟悉系统的使用即可。
